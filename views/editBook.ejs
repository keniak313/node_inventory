<%-include('partials/head', title)-%>

<body>
  <%-include('partials/header') -%>
  <main>
    <div class="form">
      <form action="/updateBook/<%=book.id%>" method="POST">
        <label for="authorid">Author: </label>
        <select id="authorid" name="authorid" required>
          <option value="">None</option>
          <% authors.map((author) =>{ %>
          <% if(book.authorid === author.id){ %>
          <option value="<%= author.id %>" selected><%= author.firstname %> <%= author.lastname %></option>
          <%}else{ %>
          <option value="<%= author.id %>"><%= author.firstname %> <%= author.lastname %></option>
          <%} %>
          <%})%>
        </select>
        <label for="title">Title: </label>
        <input type="text" name="title" id="title" value="<%=book.title %>" required />
        <label for="year">Year: </label>
        <input type="number" name="year" id="year" value="<%=book.year %>" required />
        <label for="pages">Pages: </label>
        <input type="number" name="pages" id="pages" value="<%=book.pages %>" required />
        <button type="submit">Confirm edit</button>
      </form>
    </div>
  </main>
  <%-include('partials/footer') -%>
</body>